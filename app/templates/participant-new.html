<!--
  This template loads for the 'tab.participant-detail' state (app.js)
  'participant' is a $scope variable created in the ParticipantDetailCtrl controller (controllers.js)
  The ParticipantDetailCtrl pulls data from the Participants service (service.js)
  The Participants service returns a participant (as JSON)
-->
<ion-view title="Add Participant">
    <ion-content has-header="true" padding="true">
        <form name="newParticipantForm" novalidate>
            <div class="list">
                <label class="item item-input">
                    <span class="input-label">Username (must be an e-mail address):</span>
                    <input type="email" name="username" ng-model="newParticipant.email" required>
                </label>
                <label class="item item-input">
                    <span class="input-label">Password:</span>
                    <input type="password" name="password" ng-model="newParticipant.password" required>
                </label>
                <label class="item item-input">
                    <span class="input-label">Full Name:</span>
                    <input type="text" name="fullName" ng-model="newParticipant.fullName" required>
                </label>
                <label class="item item-input">
                    <span class="input-label">Nickname:</span>
                    <input type="text" name="nickname" ng-model="newParticipant.nickname">
                </label>
                <label for="participantType" class="item item-input item-select">
                    <span class="input-label">Type:</span>
                    <select name="participantType" ng-model="newParticipant.type" ng-init="newParticipant.type='tutor'">
                        <option value="tutor">Tutor</option>
                        <option value="student">Student</option>
                        <option value="admin">Admin</option>
                    </select>
                </label>
                <label class="item item-input item-select">
                    <span class="input-label">{{service.advocateTypeLabel(newParticipant.type)}}</span>
                    <select ng-model='newParticipant.advocate'
                            ng-options="a.fullName for a in advocatePool(newParticipant.type)"
                            ng-init="newParticipant.advocate = advocatePool(newParticipant.type)[0]">
                    </select>
                </label>
                <label for="participantLocation" class="item item-input item-select">
                    <span class="input-label">Location</span>
                    <select name="participantLocation" ng-model="newParticipant.location" ng-init="newParticipant.location='Quincy'">
                        <option value="Quincy" ng-selected="true">Quincy</option>
                    </select>
                </label>
                <label>
                    <ion-checkbox ng-model="newParticipant.mediaConsent">Media Consent Granted?</ion-checkbox>
                </label>
                <label class="item item-input">
                    <span class="input-label">Birthdate:</span>
                    <input type="date" name="birthdate" ng-model="newParticipant.birthdate">
                </label>
            </div>
            <div class="padding">
                <button type="button" class="button button-block button-positive" ng-disabled="newParticipantForm.$invalid" ng-click="saveParticipant(newParticipant)">Save</button>
            </div>
        </form>
    </ion-content>
</ion-view>
